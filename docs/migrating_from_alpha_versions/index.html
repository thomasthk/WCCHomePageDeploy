<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.13">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Wisdom Consultancy Company RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Wisdom Consultancy Company Atom Feed">
<script src="https://umami-henna.vercel.app/umami.js" async defer="defer" data-website-id="8c5f20b5-a66f-44f9-b631-f41654ee0705"></script><title data-react-helmet="true">Migrating from alpha versions | Wisdom Consultancy Company</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://wisdom-consultancy-hk.com/docs/migrating_from_alpha_versions"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Migrating from alpha versions | Wisdom Consultancy Company"><meta data-react-helmet="true" name="description" content="If you were using the app in the alpha versions (before 1.0.0-beta1), you will"><meta data-react-helmet="true" property="og:description" content="If you were using the app in the alpha versions (before 1.0.0-beta1), you will"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://wisdom-consultancy-hk.com/docs/migrating_from_alpha_versions"><link data-react-helmet="true" rel="alternate" href="https://wisdom-consultancy-hk.com/docs/migrating_from_alpha_versions" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://wisdom-consultancy-hk.com/docs/migrating_from_alpha_versions" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.69687854.css">
<link rel="preload" href="/assets/js/runtime~main.80c62383.js" as="script">
<link rel="preload" href="/assets/js/main.b60c557f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title">Wisdom Consultancy Company</b></a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quickstart">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/entities/entity_schemas">Entities</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/collections/">Collections</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/navigation">Navigation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/custom_top_level_views">Custom top level views</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/hooks/use_auth_controller">Provided hooks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/firebase_cms_app">Firebase CMS app</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/recipes/building_a_blog">Recipes</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/custom_cms_app">Custom CMSApp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/migrating_from_alpha_versions">Migrating from alpha versions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/changelog">Changelog</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Migrating from alpha versions</h1></header><p>If you were using the app in the alpha versions (before 1.0.0-beta1), you will
find many <strong>breaking changes</strong>. We have done a lot of internal refactorings with
the primary goal of making internal and external APIs more predictable and
consistent.</p><p>Oh, and we have a very awesome new dark theme too ;)</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="core-dependencies-update">Core dependencies update<a aria-hidden="true" class="hash-link" href="#core-dependencies-update" title="Direct link to heading">​</a></h2><p>In version 1.0.0 there are major updates to some dependencies, now using:</p><ul><li>MaterialUI v5</li><li>React Router v6</li><li>Firebase JS SDK 9</li></ul><p>Run this command to add the new dependencies:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#9CDCFE"><span class="token plain">yarn add @camberi/firecms firebase@^9.0.0 @mui/material@^5.1.0 @mui/icons-material@^5.1.0 @mui/lab@^5.0.0-alpha.55 @mui/styles@^5.1.0 @emotion/react @emotion/styled react-router@^6.0.0 react-router-dom@^6.0.0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>You may want to remove previous dependencies to @material-ui</p></blockquote><h2 class="anchor anchorWithStickyNavbar_31ik" id="separation-of-concerns">Separation of concerns<a aria-hidden="true" class="hash-link" href="#separation-of-concerns" title="Direct link to heading">​</a></h2><p>We are taking steps to abstract away all the Firebase specific details behind
our own interfaces, giving developers more flexibility, even allowing to replace
the Firestore datasource, the Firebase Storage implementation or the Firebase
auth mechanism.</p><p>All the code related to Firebase/Firestore is now located in an internal package
called <code>firebase_app</code> and it is the only place where there are references to
Firebase code. Essentially, you can build a CMS replacing all the services
without touching that specific package.</p><p>If you are using <code>CMSApp</code> (called
<code>FirebaseCMSApp</code> from now on), you will not be largely impacted by the changes
in this update, besides the callbacks and props specified bellow.</p><p>There are two new classes that replace the Firebase ones:</p><ul><li><code>EntityReference</code></li><li><code>GeoPoint</code> (though the field is not implemented)</li></ul><p>If you have any models that use Firebase references such as:</p><div class="codeBlockContainer_K1bP language-tsx"><div class="codeBlockContent_hGly tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_23N8 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> firebase </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;firebase/app&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(78, 201, 176)">User</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    liked_products</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> firebase</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">firestore</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token maybe-class-name">DocumentReference</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>you should replace them by:</p><div class="codeBlockContainer_K1bP language-tsx"><div class="codeBlockContent_hGly tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_23N8 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token maybe-class-name">EntityReference</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;@camberi/firecms&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(78, 201, 176)">User</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    liked_products</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token maybe-class-name">EntityReference</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="api-changes">API changes<a aria-hidden="true" class="hash-link" href="#api-changes" title="Direct link to heading">​</a></h2><ul><li><p><strong><code>CMSApp</code> has been renamed to <code>FirebaseCMSApp</code></strong> in order to better reflect
that that implementation of <code>FireCMS</code> uses Firebase as the backend.</p></li><li><p><code>CMSAppProvider</code> has been renamed to <code>FireCMS</code>, it is now the main component
of the CMS, in charge of initialising navigation and all the contexts.</p></li><li><p><code>CMSAppContext</code> has been renamed to <code>FireCMSContext</code>.</p></li><li><p><code>useCMSAppContext</code> has been renamed to <code>useFireCMSContext</code>.</p></li><li><p>General callbacks refactor. <strong>All callbacks</strong> now always return a single
object with the props as fields. The goal of this change is to make them
predictable and remove inconsistencies:</p><ul><li>Every field that was previously called <code>collectionPath</code> now is simply
called <code>path</code>.</li><li>Every field that was previously called <code>entitySchema</code> now is simply
called <code>schema</code>.</li><li>All entity id fields are now renamed to <code>entityId</code> (with the only
exception of the field <code>id</code> in <code>Entity</code>).</li></ul></li><li><p><code>AuthController</code> <code>loggedUser</code> renamed to <code>user</code></p></li><li><p><code>EntitySaveProps</code> renamed to <code>EntityOnSaveProps</code></p></li><li><p><code>EntityDeleteProps</code> renamed to <code>EntityOnDeleteProps</code></p></li><li><p><code>UploadedFileContext</code> <code>entityValues</code> renamed to <code>values</code></p></li><li><p><code>useNavigationFrom</code> renamed to <code>useResolvedNavigationFrom</code></p></li><li><p><code>getNavigationFrom</code> renamed to <code>resolveNavigationFrom</code></p></li><li><p><code>AdditionalColumnDelegate</code> <code>builder</code> prop now receives an object including the
entity and the app context, instead of only the entity as before:</p></li></ul><div class="codeBlockContainer_K1bP language-tsx"><div class="codeBlockContent_hGly tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_23N8 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// Previous</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> previousProductAdditionalColumn</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token maybe-class-name">AdditionalColumnDelegate</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token maybe-class-name">Product</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;spanish_title&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Spanish title&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">builder</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">entity</span><span class="token parameter operator" style="color:rgb(212, 212, 212)">:</span><span class="token parameter"> Entity</span><span class="token parameter operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token parameter">Product</span><span class="token parameter operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">div</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain">entity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">values</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">div</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// Now</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> productAdditionalColumn</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token maybe-class-name">AdditionalColumnDelegate</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token maybe-class-name">Product</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;spanish_title&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Spanish title&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">builder</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token parameter"> entity </span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">div</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain">entity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">values</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">div</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><code>Authenticator</code> now receives an object with a <code>user</code> field instead of a <code>User</code>
. It is also generically typed now, so you can specify the type for the user.
If you are using the default <code>FirebaseCMSApp</code>, you can specify your
authenticator like:</li></ul><div class="codeBlockContainer_K1bP language-tsx"><div class="codeBlockContent_hGly tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_23N8 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> </span><span class="token maybe-class-name">FirebaseUser</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;firebase/auth&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> myAuthenticator</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Authenticator</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token maybe-class-name">FirebaseUser</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token parameter"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token parameter">                                                                user</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token parameter">                                                                authController</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token parameter">                                                            </span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token builtin" style="color:rgb(86, 156, 214)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Allowing access to&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> user</span><span class="token operator" style="color:rgb(212, 212, 212)">?.</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><p><code>FormContext</code> <code>entitySchema</code> is now called <code>schema</code></p></li><li><p><code>field</code> prop in properties has been renamed to <code>Field</code></p></li><li><p><code>preview</code> prop in properties has been renamed to <code>Preview</code></p></li><li><p><code>indexes</code> prop in <code>EntityCollection</code> has been renamed to <code>filterCombinations</code></p></li><li><p><code>relativePath</code> prop in <code>EntityCollection</code> has been renamed to <code>path</code></p></li><li><p>If you were using <code>CMSAppProvider</code> and <code>CMSMainView</code>, they have been largely
refactored, and now you will need to implement a bunch of extra stuff if you
want to go down the super custom road. Those components have now been turned
into:</p><ul><li><a href="/docs/api/functions/firecms"><code>FireCMS</code></a></li><li><a href="/docs/api/functions/scaffold"><code>Scaffold</code></a></li><li><a href="/docs/api/functions/navigationroutes"><code>NavigationRoutes</code></a></li><li><a href="/docs/api/functions/sideentitydialogs"><code>SideEntityDialogs</code></a></li></ul><p>You will be responsible for initialising the material theme, Firebase (or your
own backend) and providing the Router. On the plus side, this is going to give
you a ton of room for customisation. You can check a complete example in:
<a href="https://github.com/Camberi/firecms/blob/master/example/src/CustomCMSApp.tsx" target="_blank" rel="noopener noreferrer">https://github.com/Camberi/firecms/blob/master/example/src/CustomCMSApp.tsx</a></p></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="text-search">Text search<a aria-hidden="true" class="hash-link" href="#text-search" title="Direct link to heading">​</a></h2><p>The <strong>text search</strong> functionality has been moved to the datasource and removed
from the collection level. In your collection, you can now set
the <code>textSearchEnabled</code> flag to true to display the search bar.</p><p>This goes in the direction of building a generic core of the CMS that is not
directly coupled with Firebase/Firestore. We have removed search delegates at
the collection level, and now you can find them at the datasource level.</p><p>The interface created for the Datasource is now agnostic, and we understand that
the text search is part of the API in <code>listenCollection</code> or <code>fetchCollection</code>,
instead of being a separate delegate, like until now.</p><p>The text search implementation has been moved to the <code>firebase_app</code> level. You
can now define a <code>FirestoreTextSearchController</code> where you need to return the
search ids, based on the collection <code>path</code> and the <code>searchString</code>, instead of
having a single TextSearchDelegate per collection.</p><p>Check an example of the <a href="/docs/firebase_cms_app#text-search">new implementation</a></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="saving-and-deleting-callbacks">Saving and deleting callbacks<a aria-hidden="true" class="hash-link" href="#saving-and-deleting-callbacks" title="Direct link to heading">​</a></h2><p>The callbacks that were previously related to a schema have been moved to the
collection level, and are now bundled up under the optional <code>callbacks</code> prop.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/custom_cms_app"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Custom CMSApp</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/changelog"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Changelog<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#core-dependencies-update" class="table-of-contents__link toc-highlight">Core dependencies update</a></li><li><a href="#separation-of-concerns" class="table-of-contents__link toc-highlight">Separation of concerns</a></li><li><a href="#api-changes" class="table-of-contents__link toc-highlight">API changes</a></li><li><a href="#text-search" class="table-of-contents__link toc-highlight">Text search</a></li><li><a href="#saving-and-deleting-callbacks" class="table-of-contents__link toc-highlight">Saving and deleting callbacks</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Get in touch</div><ul class="footer__items"><li class="footer__item"><a href="mailto: thomas@wisdom-consultancy-hk.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">2022 - Wisdom Consultancy Company</div></div></div></footer></div>
<script src="/assets/js/runtime~main.80c62383.js"></script>
<script src="/assets/js/main.b60c557f.js"></script>
</body>
</html>